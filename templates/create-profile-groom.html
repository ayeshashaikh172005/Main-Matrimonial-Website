<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Create Groom Profile</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Libre+Bodoni:ital,wght@1,700&family=Lily+Script+One&family=Lobster&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <style>
    body {
      font-family: 'Libre Bodoni', sans-serif;
      background: linear-gradient(135deg, #dbe6f6, #c5796d);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      position: relative;
      overflow-x: hidden;
    }

    @keyframes gradientBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .form-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      position: relative;
      z-index: 2;
    }

  .groom-bg {
    background-image: url("{{ url_for('static', filename='images/explore profiles/Groom.jpeg') }}");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: top right;
    opacity: 0.05;
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

    #flower-shower {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 3;
    }

    .falling-flower {
      position: absolute;
      opacity: 0.8;
      width: 30px;
      animation: fall 10s linear infinite;
    }

    @keyframes fall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    #successModal {
      z-index: 10;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start p-6">

  <!-- Back Button -->
  <div class="w-full max-w-7xl mb-6" style="position: relative; z-index: 99999;">
    <a href="{{ url_for('home') }}" 
       class="inline-block bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition-all text-sm sm:text-base">
      â¬… Back to Home
    </a>
  </div>

  <!-- Flower Shower Container -->
  <div id="flower-shower"></div>

  <!-- Background groom watermark -->
  <div class="groom-bg"></div>

  <div class="form-container max-w-4xl w-full" data-aos="zoom-in">
    <div class="flex justify-center mb-6">
      <img src="{{ url_for('static', filename='images/explore profiles/Groom.jpeg') }}" alt="Groom Icon" class="w-32 h-32 rounded-full shadow-lg border-4 border-white bg-blue-100 p-2" />
    </div>
    <h1 class="text-4xl font-bold text-center text-blue-700 mb-6">Create Groom Profile</h1>

    <form action="/create-profile-groom" method="POST" enctype="multipart/form-data" class="space-y-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input type="text" name="full_name" placeholder="Full Name" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="email" name="email" placeholder="Email ID" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="tel" name="phone" placeholder="Phone Number" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" name="country" placeholder="Country" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" name="state" placeholder="State" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" name="city" placeholder="City" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <textarea name="address" placeholder="Complete Address" class="w-full p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <select name="diet" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
          <option value="" disabled selected>Diet</option>
          <option value="Vegetarian">Vegetarian</option>
          <option value="Vegan">Vegan</option>
        </select>
        <select name="complexion" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
          <option value="" disabled selected>Complexion</option>
          <option value="Wheatish">Wheatish</option>
          <option value="White">White</option>
          <option value="Brown">Brown</option>
          <option value="Fair">Fair</option>
          <option value="Very Fair">Very Fair</option>
        </select>
        <input type="text" name="height" placeholder="Height (e.g., 5'11\)" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" name="weight" placeholder="Weight (e.g., 75 kg)" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-gray-700 font-medium mb-2">Upload Images</label>
          <input type="file" name="images[]" multiple class="w-full p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
          <label class="block text-gray-700 font-medium mb-2">Upload Video Introduction</label>
          <input type="file" name="video_introduction" accept="video/*" class="w-full p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-gray-700 font-medium mb-2">Username</label>
          <input type="text" name="username" id="username" placeholder="Username" class="w-full p-3 rounded-lg border border-blue-300 bg-gray-100 focus:outline-none">
        </div>
        <div>
          <label class="block text-gray-700 font-medium mb-2">Password</label>
          <input type="password" name="password" placeholder="Password" class="w-full p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <select name="manglik" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
          <option value="" disabled selected>Manglik</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
        <input type="date" name="dob" placeholder="Date of Birth" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="number" name="age" placeholder="Age" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" name="profession" placeholder="Profession" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input type="text" name="package" placeholder="Package" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" name="education" placeholder="Education" class="p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
      </div>

      <textarea name="likes" placeholder="Likes" class="w-full p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
      <textarea name="dislikes" placeholder="Dislikes" class="w-full p-3 rounded-lg border border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>

      <button type="submit" class="w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded-lg transition duration-300">Submit Profile</button>
    </form>
  </div>

  <!-- Success Modal -->
  <div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-md w-full">
      <h2 class="text-2xl font-bold text-green-600 mb-4">Success!</h2>
      <p class="text-gray-700 mb-6">Your profile has been created successfully.</p>
      <button onclick="redirectToHome()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-lg">Login Now</button>
    </div>
  </div>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 1000 });

    // Flower shower
    const flowerShower = document.getElementById("flower-shower");
    for (let i = 0; i < 60; i++) {
      const flower = document.createElement("img");
      flower.src = "{{ url_for('static', filename='images/explore profiles/flower.png') }}";
      flower.classList.add("falling-flower");
      flower.style.left = `${Math.random() * 100}vw`;
      flower.style.animationDelay = `${Math.random() * 10}s`;
      flower.style.top = `${-50 - Math.random() * 200}px`;
      flowerShower.appendChild(flower);
    }

    emailInput.addEventListener('input', generateUsername);
    phoneInput.addEventListener('input', generateUsername);

    // Show modal if flash message exists
  const showSuccessModal = "{{ 'true' if get_flashed_messages() else 'false' }}";
  if (showSuccessModal === "true") {
    document.getElementById('successModal').classList.remove('hidden');
  }

  function redirectToHome() {
    window.location.href = "/";
  }
</script>

  </script>
</body>
</html>
